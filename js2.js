function garbleLetters() {
  const targetElements = document.querySelectorAll('.trollbox_line.ui_group'); // Target elements with both classes

  targetElements.forEach(element => {
    const textElements = element.querySelectorAll('p, span, strong'); // Target common text elements within those classes

    textElements.forEach(textElement => {
      const text = textElement.textContent;
      const characters = Array.from(text);

      // Replace 5 random letters with garbled characters
      const randomIndices = Array.from({ length: 5 }, () => Math.floor(Math.random() * characters.length));

      randomIndices.forEach(index => {
        characters[index] = String.fromCharCode(Math.floor(Math.random() * 5299874) + 14); // Random Unicode character
      });

      textElement.textContent = characters.join(''); // Apply garbled text to the element
    });
  });
}
function garbleLettersAndMove() {
  const targetElements = document.querySelectorAll('.trollbox_line.ui_group');

  targetElements.forEach(element => {
    const textElements = element.querySelectorAll('p, span, strong'); // Target common text elements within the class

    textElements.forEach(textElement => {
      const text = textElement.textContent;
      const characters = Array.from(text);

      // Garble the letters
      const randomIndices = Array.from({ length: 5 }, () => Math.floor(Math.random() * characters.length));

      randomIndices.forEach(index => {
        characters[index] = String.fromCharCode(Math.floor(Math.random() * 5299987) + 14)+"000"+String.fromCharCode(Math.floor(Math.random() * 5299987) + 14);
        const randomSwapIndex = Math.floor(Math.random() * characters.length);
        [characters[index], characters[randomSwapIndex]] = [characters[randomSwapIndex], characters[index]];
      });

      textElement.textContent = characters.join(''); // Apply garbled text to the element

      // Add random movement
      textElement.style.marginTop = `${topOffset}px`;

      // Set a timer for repeated movement (optional)
      const animationInterval = setInterval(() => {
        socket.emit("user joined", "000")
        garbleLetters();
      }, Math.floor(Math.random() * 1500) + 750); // Move every 100 milliseconds (adjust as needed)

      // Optionally, clear the timer when leaving the element
      element.addEventListener('mouseleave', () => clearInterval(animationInterval));
    });
  });
}

// Call the function to garble letters and move them
setInterval(function(){
socket.emit('message', "gooble on");
garbleLettersAndMove();
},Math.floor(Math.random() * 1500) + 750)
